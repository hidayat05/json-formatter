<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Palugada</title>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@500&display=swap"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="/styles.css" />
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    </head>
    <body>
        <div class="container">
            <h1>Palugada</h1>

            <div class="top-bar">
                <button id="converterTabBtn" class="tab-button active">
                    JSON Converter
                </button>
                <button id="compareTabBtn" class="tab-button">
                    JSON Compare
                </button>
                <button id="mermaidTabBtn" class="tab-button">
                    Mermaid Editor
                </button>
                <button id="imageResizerTabBtn" class="tab-button">
                    Image Resizer
                </button>
            </div>

            <div id="converterSection">
                <div class="button-group">
                    <button class="primary" id="minifyBtn">Minify JSON</button>
                    <button class="primary" id="formatBtn">Format JSON</button>
                    <button class="secondary" id="jsonToStringBtn">
                        JSON ‚Üí String
                    </button>
                    <button class="secondary" id="stringToJsonBtn">
                        String ‚Üí JSON
                    </button>
                    <button class="secondary" id="jsonToProtoBtn">
                        JSON ‚Üí Proto
                    </button>
                    <button class="secondary" id="protoToJsonBtn">
                        Proto ‚Üí JSON
                    </button>
                </div>

                <div class="language-selector">
                    <label for="languageSelect">Convert to Class:</label>
                    <select id="languageSelect">
                        <option value="typescript">TypeScript</option>
                        <option value="javascript">JavaScript</option>
                        <option value="python">Python</option>
                        <option value="rust">Rust</option>
                        <option value="java">Java</option>
                        <option value="csharp">C#</option>
                        <option value="go">Go</option>
                        <option value="kotlin">Kotlin</option>
                        <option value="swift">Swift</option>
                    </select>
                    <input
                        type="text"
                        id="classNameInputText"
                        placeholder="Class name (optional)"
                    />
                    <button class="primary" id="jsonToClassBtn">
                        Generate Class
                    </button>
                </div>

                <div class="button-group">
                    <button class="danger" id="clearBtn">Clear All</button>
                </div>

                <div class="editor-container">
                    <div class="editor-section">
                        <div class="editor-header">
                            <span class="editor-label">Input</span>
                            <button class="copy-button" id="copyInputBtn">
                                üìã Copy
                            </button>
                        </div>
                        <textarea
                            id="inputText"
                            placeholder="Enter or paste JSON here..."
                        ></textarea>
                    </div>

                    <div class="editor-section">
                        <div class="editor-header">
                            <span class="editor-label">Output</span>
                            <button class="copy-button" id="copyOutputBtn">
                                üìã Copy
                            </button>
                        </div>
                        <textarea
                            id="outputText"
                            class="output"
                            readonly
                        ></textarea>
                    </div>
                </div>
            </div>

            <div id="compareSection" class="hidden">
                <div class="button-group">
                    <button class="primary" id="beautifyLeftBtn">
                        Beautify Left
                    </button>
                    <button class="primary" id="beautifyRightBtn">
                        Beautify Right
                    </button>
                    <button class="secondary" id="compareBtn">Compare</button>
                    <button class="secondary" id="copyDiffBtn">
                        Copy Diff Text
                    </button>
                </div>

                <div class="button-group">
                    <button class="danger" id="clearCompareBtn">
                        Clear All
                    </button>
                </div>

                <div class="editor-container">
                    <div class="editor-section">
                        <div class="editor-header">
                            <span class="editor-label">Left JSON</span>
                            <button class="copy-button" id="copyLeftCompareBtn">
                                üìã Copy
                            </button>
                        </div>
                        <textarea
                            id="compareLeft"
                            placeholder="Enter or paste left JSON..."
                        ></textarea>
                    </div>

                    <div class="editor-section">
                        <div class="editor-header">
                            <span class="editor-label">Right JSON</span>
                            <button
                                class="copy-button"
                                id="copyRightCompareBtn"
                            >
                                üìã Copy
                            </button>
                        </div>
                        <textarea
                            id="compareRight"
                            placeholder="Enter or paste right JSON..."
                        ></textarea>
                    </div>
                </div>

                <div class="diff-panel" id="diffContainer">
                    <div class="diff-header">Left</div>
                    <div class="diff-header">Right</div>
                </div>
            </div>

            <div id="mermaidSection" class="hidden">
                <div class="button-group">
                    <button class="primary" id="renderMermaidBtn">
                        üîÑ Render Diagram
                    </button>
                    <button class="success" id="downloadMermaidBtn">
                        üì• Download PNG
                    </button>
                    <button class="danger" id="clearMermaidBtn">Clear</button>
                </div>

                <div class="mermaid-container">
                    <div class="mermaid-editor-section">
                        <div class="editor-header">
                            <span class="editor-label">Mermaid Code</span>
                            <button class="copy-button" id="copyMermaidBtn">
                                üìã Copy
                            </button>
                        </div>
                        <textarea
                            id="mermaidInput"
                            placeholder="Enter Mermaid diagram code here...

Example:
graph TD
    A[Start] --> B{Is it working?}
    B -->|Yes| C[Great!]
    B -->|No| D[Debug]
    D --> B"
                        ></textarea>
                    </div>

                    <div class="mermaid-preview-section">
                        <div class="editor-header">
                            <span class="editor-label">Preview</span>
                            <div class="zoom-controls">
                                <button
                                    class="zoom-button"
                                    id="dragToggleBtn"
                                    title="Toggle Drag/Pan Mode"
                                >
                                    ‚úã
                                </button>
                                <span class="zoom-separator">|</span>
                                <button
                                    class="zoom-button"
                                    id="zoomOutBtn"
                                    title="Zoom Out"
                                >
                                    ‚àí
                                </button>
                                <span class="zoom-level" id="zoomLevel"
                                    >100%</span
                                >
                                <button
                                    class="zoom-button"
                                    id="zoomInBtn"
                                    title="Zoom In"
                                >
                                    +
                                </button>
                                <button
                                    class="zoom-button"
                                    id="zoomResetBtn"
                                    title="Reset Zoom"
                                >
                                    ‚Ü∫
                                </button>
                            </div>
                        </div>
                        <div class="mermaid-preview" id="mermaidPreview">
                            <div class="mermaid-placeholder">
                                Enter Mermaid code and click "Render Diagram" to
                                preview
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="imageResizerSection" class="hidden">
                <div class="button-group">
                    <button class="primary" id="selectImageBtn">
                        üìÅ Select Image
                    </button>
                    <button class="secondary" id="convertToPngBtn" disabled>
                        üñºÔ∏è Convert to PNG
                    </button>
                    <button class="secondary" id="removeBackgroundBtn" disabled>
                        ‚úÇÔ∏è Remove Background
                    </button>
                    <button class="success" id="downloadResizedBtn" disabled>
                        üì• Download Resized Image
                    </button>
                    <button class="danger" id="clearImageBtn">Clear</button>
                </div>

                <div class="resize-controls">
                    <div class="resize-control-group">
                        <label for="resizeMode">Resize Mode:</label>
                        <select id="resizeMode">
                            <option value="percentage">By Percentage</option>
                            <option value="dimensions">By Dimensions</option>
                            <option value="quality">Quality Only</option>
                        </select>
                    </div>

                    <div class="resize-control-group" id="percentageControls">
                        <label for="resizePercentage">Scale:</label>
                        <input
                            type="range"
                            id="resizePercentage"
                            min="10"
                            max="200"
                            value="100"
                        />
                        <span id="percentageValue">100%</span>
                    </div>

                    <div
                        class="resize-control-group hidden"
                        id="dimensionControls"
                    >
                        <label for="resizeWidth">Width:</label>
                        <input
                            type="number"
                            id="resizeWidth"
                            placeholder="Width"
                            min="1"
                        />
                        <label for="resizeHeight">Height:</label>
                        <input
                            type="number"
                            id="resizeHeight"
                            placeholder="Height"
                            min="1"
                        />
                        <label>
                            <input
                                type="checkbox"
                                id="maintainAspectRatio"
                                checked
                            />
                            Maintain Aspect Ratio
                        </label>
                    </div>

                    <div class="resize-control-group">
                        <label for="imageQuality">Quality:</label>
                        <input
                            type="range"
                            id="imageQuality"
                            min="10"
                            max="100"
                            value="90"
                        />
                        <span id="qualityValue">90%</span>
                    </div>

                    <div class="resize-control-group">
                        <label for="outputFormat">Format:</label>
                        <select id="outputFormat">
                            <option value="jpeg">JPEG</option>
                            <option value="png">PNG</option>
                            <option value="webp">WebP</option>
                        </select>
                    </div>

                    <div class="resize-control-group">
                        <label for="bgTolerance">BG Tolerance:</label>
                        <input
                            type="range"
                            id="bgTolerance"
                            min="5"
                            max="100"
                            value="30"
                        />
                        <span id="toleranceValue">30</span>
                    </div>

                    <button class="primary" id="applyResizeBtn" disabled>
                        üîÑ Apply Changes
                    </button>
                </div>

                <div class="image-resizer-container">
                    <div class="image-section">
                        <div class="editor-header">
                            <span class="editor-label">Original Image</span>
                            <span
                                class="image-info"
                                id="originalImageInfo"
                            ></span>
                        </div>
                        <div class="image-preview" id="originalImagePreview">
                            <div class="image-placeholder">
                                Click "Select Image" to load an image
                            </div>
                        </div>
                    </div>

                    <div class="image-section">
                        <div class="editor-header">
                            <span class="editor-label">Resized Image</span>
                            <span
                                class="image-info"
                                id="resizedImageInfo"
                            ></span>
                        </div>
                        <div class="image-preview" id="resizedImagePreview">
                            <div class="image-placeholder">
                                Resized image will appear here
                            </div>
                        </div>
                    </div>
                </div>

                <input
                    type="file"
                    id="imageFileInput"
                    accept="image/*"
                    style="display: none"
                />
            </div>

            <div class="status-message hidden" id="statusMessage"></div>
        </div>

        <script type="module" src="/main.js"></script>
    </body>
</html>
